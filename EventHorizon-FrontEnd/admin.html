<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Admin Panel - Event Horizon</title>
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;600;700&family=Roboto:wght@300;400;500;700&display=swap"
    />
    <link rel="stylesheet" href="styles/main.css" />
    <link rel="stylesheet" href="styles/admin.css" />
  </head>
  <body>
    <div class="stars"></div>
    <div class="twinkling"></div>

    <header class="main-header">
      <div class="nav-container">
        <div class="logo">
          <h1>Event Horizon</h1>
        </div>
        <div class="nav-links">
          <a href="index.html">Home</a>
          <a href="events.html">Events</a>
          <a href="my-bookings.html">My Bookings</a>
          <a href="admin.html" id="adminPanelLink" style="display: none"
            >Admin Panel</a
          >
          <span id="userInfo" style="display: none"></span>
          <button class="login-btn">Login</button>
          <button class="register-btn">Register</button>
          <button
            id="logoutBtn"
            class="login-btn"
            style="
              display: none;
              background: linear-gradient(45deg, #e24a4a, #e27b4a);
            "
          >
            Logout
          </button>
        </div>
      </div>
    </header>

    <main class="admin-container">
      <h1>Admin Panel</h1>

      <div class="admin-actions">
        <button id="addEventBtn" class="main-btn">Add New Event</button>
      </div>

      <div class="events-table-container">
        <table id="eventsTable">
          <thead>
            <tr>
              <th>Title</th>
              <th>Date</th>
              <th>Location</th>
              <th>Category</th>
              <th>Price</th>
              <th>Actions</th>
            </tr>
          </thead>
          <tbody id="eventsTableBody">
            <!-- Events will be loaded here -->
          </tbody>
        </table>
      </div>
    </main>

    <!-- Add/Edit Event Modal -->
    <div id="eventModal" class="modal">
      <div class="modal-content">
        <span class="close">&times;</span>
        <h2 id="modalTitle">Add New Event</h2>
        <form id="eventForm">
          <input type="hidden" id="eventId" />
          <input type="hidden" id="currentImageUrl" />
          <div class="form-group">
            <label for="eventTitle">Title</label>
            <input type="text" id="eventTitle" required />
          </div>
          <div class="form-group">
            <label for="eventDate">Date</label>
            <input type="datetime-local" id="eventDate" required />
          </div>
          <div class="form-group">
            <label for="eventLocation">Location</label>
            <input type="text" id="eventLocation" required />
          </div>
          <div class="form-group">
            <label for="eventPrice">Price</label>
            <input type="number" id="eventPrice" min="0" step="0.01" required />
          </div>
          <div class="form-group">
            <label for="eventDescription">Description</label>
            <textarea id="eventDescription" required></textarea>
          </div>
          <div class="form-group">
            <label for="eventCategory">Category</label>
            <select id="eventCategory" required>
              <option value="">Select a category</option>
              <!-- Categories will be loaded dynamically -->
            </select>
          </div>
          <div id="fileInputContainer" class="form-group">
            <label for="eventImage">Image</label>
            <input type="file" id="eventImage" accept="image/*" />
            <p class="help-text">Select a new image file to upload</p>
          </div>
          <div id="imageUrlContainer" class="form-group" style="display: none">
            <label>Current Image</label>
            <p class="help-text">
              The current image will be used unless you select a new file above
            </p>
          </div>
          <div class="image-preview-container">
            <img
              id="imagePreview"
              src="/placeholder.svg"
              alt="Image Preview"
              style="
                display: none;
                max-width: 100%;
                max-height: 200px;
                margin-top: 10px;
              "
            />
          </div>
          <button type="submit" class="main-btn">Save Event</button>
        </form>
      </div>
    </div>

    <!-- Delete Confirmation Modal -->
    <div id="deleteModal" class="modal">
      <div class="modal-content">
        <span class="close">&times;</span>
        <h2>Confirm Delete</h2>
        <p>Are you sure you want to delete this event?</p>
        <div class="modal-actions">
          <button id="confirmDelete" class="danger-btn">Delete</button>
          <button id="cancelDelete" class="secondary-btn">Cancel</button>
        </div>
      </div>
    </div>

    <script src="js/auth.js"></script>
    <script src="js/admin.js"></script>
  </body>
</html>
